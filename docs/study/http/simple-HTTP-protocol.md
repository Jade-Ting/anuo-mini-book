---
title: '简单的HTTP'
order: 2
---

<Alert>
主要摘抄 <a href="https://weread.qq.com/web/reader/3da32b505dd9f43da9a1acakc81322c012c81e728d9d180">图解HTTP协议 - 上野宣著</a>
</Alert>

### HTTP协议用于客户端和服务器端之间的通信
> 请求访问资源的一端称为客户端，提供资源响应的一端称为服务器端。

在实际情况中，两台计算机作为客户端和服务器端的角色可能会互换，但就仅一条通信路线来说，服务器端和客户端的角色是确定的，而用HTTP协议能够明确区分哪段是客户端，哪端是服务器端。

<div style="color: rgb(88, 188, 88)">通过请求和响应的交换达成通信,HTTP规定请求从客户端发出，最后服务器响应该请求并返回。</div>

### HTTP是不保存状态的协议

- **理解**：HTTP是无状态协议，它不对之前发生的请求和响应的状态进行管理，也就是说，不能根据之前的状态进行本次的请求处理。每当有新的请求发送，就会有对应新的响应产生。

- **优点**：由于不必保存状态，自然可以减少服务器的CPU以及内存资源的消耗，也正是因为HTTP协议本身是非常简单的，所以才会被应用到各种场景。

- **缺点**假设要求登录认证的Web页面本身无法进行状态的管理（不能保存登录态），那么每次跳转新页面就要再次登录，或者在每次请求报文中附加参数来管理登录状态。

- **使用Cookie解决保存状态的问题**


### 使用`Cookie`管理状态
> Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端的状态。

Cookie会根据从服务器端发送的响应报文内的一个叫做 `Set-Cookie` 的首部字段信息，通知客户端保存Cookie。当下次客户端再往服务器端发送请求时，客户端会自动在请求报文中加入Cookie值后发送出去。

服务器端发现客户端发送过来的Cookie后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。

![image.png](https://i.loli.net/2020/06/23/ePfk2Fp7J9c5qlr.png)

上图展示了发生Cookie交互的情景，HTTP请求报文和响应报文的内容如下：

![image.png](https://i.loli.net/2020/06/23/CwmZ8VGn9pUtARs.png)
